

<!-- _blog.html.erb -->

<!-- _blog.html.erb -->

<!-- _blog.html.erb -->

<div id="<%= dom_id blog %>" class="post">
  <div class="text-center">
    <div class="user-details">
      <div class="user-avatar" id="avatar"> <!-- ① -->
        <% if current_user && current_user.avatar.present? %>
          <%= image_tag current_user.avatar, class: "mb-2 current-avatar", id: "avatar_preview" %>
        <% else %>
          <label for="avatarIcon">
            <%= image_tag "default_avatar.jpg", class: "mb-2 current-avatar", id: "avatar_preview" %>
          </label>
          <input type="file" name="avatar" onchange="avatarImage(this);" accept="image/jpeg,image/gif,image/png" class="custom-file-input" id="avatarIcon" style="display: none;">
        <% end %>
      </div>
      <h5 class="username"><%= current_user&.name %></h5>
    </div>

    <h3 class="text-left"><%= blog.title %></h3> <!-- ③ -->
    <div class="post-details">
      <div class="row">
        <div class="col">
          <%= image_tag(blog.image, size: "300x200", class: "responsive-image") if blog.image.present? %>
        </div>
        <div class="col content-col">
          <span class="username"><%= blog.content %></span> <!-- ⑤ -->
        </div>
      </div>
    </div>
    <div class="time-details">
      <span class="post-timestamp"><%= blog.created_at.strftime("%Y-%m-%d %H:%M") %></span> <!-- ⑥ -->
      <%= link_to "詳細を見る", blog, class: "view-link" %> <!-- ⑦ -->
    </div>    
  </div>
</div>









